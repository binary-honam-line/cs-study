# How does HTTPS work?

---

## 🔒 HTTPS란?
HTTPS (Hypertext Transfer Protocol Secure):  HTTP의 확장 버전으로 데이터를 암호화 (Encryption) 하여 안전하게 전송하는 프로토콜
- TLS (Transport Layer Security)를 사용하여 데이터를 암호화
- 해커가 데이터를 가로채더라도 해독할 수 없는 이진 코드(binary code)만 얻을 수 있다

---

## 🔑 데이터 암호화 및 복호화 과정
![https](./images/https.jpg)
### step 1: TCP 연결 수립
- 클라이언트(browser)와 서버가 TCP 연결 수립

### step 2: TLS Handshake
1. 클라이언트 -> 서버: `Client Hello` 메시지 전송
  - 클라이언트는 서버에 암호화 알고리즘(Cipher Suites)과 지원하는 최신 TLS 버전을 보낸다.
2. 서버 -> 클라이언트: `Server Hello` 응답
  - 서버가 클라이언트의 요청을 확인하고 지원 가능한 암호화 알고리즘과 TLS 버전을 선택하여 응답
3. 서버 -> 클라이언트: SSL 인증서 전송
  - 서버는 SSL 인증서(SSL Certificate)를 클라이언트에 전송
  - 인증서는 **공개키(Public Key), 서버의 호스트 이름, 유효기간** 등의 정보가 포함됨  - 클라이언트는 **SSL 인증서**를 검증하여 신뢰할 수 있는 서버인지 확인

### Step 3: 세션 키 생성 및 교환
1. 클라이언트 -> 서버: 세션 키 생성 및 암호화
  - 클라이언트는 세션 키(대칭 키)를 생성 -> 서버의 공개키로 암호화 -> 서버에 전송
2. 서버 -> 클라이언트: 세션 키 복호화
  - 서버는 자신의 **개인키**로 암호화된 세션키를 복호화하여 동일한 세션키를 확보

### Step 4: 대칭키 암호화를 통한 데이터 전송
  - 클라이언트와 서버가 동일한 세션 키 공유 -> 대칭키 암호화(Symmetric Encryption)를 사용하여 데이터를 암호화하고 안전하게 주고받음
  - 이 단계부터 모든 데이터는 **대칭 암호화된 상태**로 안전하게 전송

---

## ❓ HTTPS는 왜 대칭키 암호화를 사용하는가?
### 1. 보안
- 비대칭 암호화(Asymmetric Encryption)는 ***단방향*** 암호화 -> 서버가 클라이언트에게 데이터를 보낼 때 공개키를 사용하면 누구나 **복호화** 가능
- 대칭 암호화는 서버와 클라이언트만이 동일한 세션 키를 가짐 -> 제3자가 복호화 불가
### 2. 서버 자원 절약 (Server Resources)
- 비대칭 암호화는 복잡한 수학적 연산이 필요 -> 연속적인 데이터에는 부적합
- TLS Handshake 후에는 속도가 빠르고 연산 비용이 적은 대칭 암호화로 전환하여 데이터 전송
