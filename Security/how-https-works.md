# How does HTTPS work?

---

## π”’ HTTPSλ€?
HTTPS (Hypertext Transfer Protocol Secure):  HTTPμ ν™•μ¥ λ²„μ „μΌλ΅ λ°μ΄ν„°λ¥Ό μ•”νΈν™” (Encryption) ν•μ—¬ μ•μ „ν•κ² μ „μ†΅ν•λ” ν”„λ΅ν† μ½
- TLS (Transport Layer Security)λ¥Ό μ‚¬μ©ν•μ—¬ λ°μ΄ν„°λ¥Ό μ•”νΈν™”
- ν•΄μ»¤κ°€ λ°μ΄ν„°λ¥Ό κ°€λ΅μ±„λ”λΌλ„ ν•΄λ…ν•  μ μ—†λ” μ΄μ§„ μ½”λ“(binary code)λ§ μ–»μ„ μ μλ‹¤

---

## π”‘ λ°μ΄ν„° μ•”νΈν™” λ° λ³µνΈν™” κ³Όμ •
![https](./images/https.jpg)
### step 1: TCP μ—°κ²° μλ¦½
- ν΄λΌμ΄μ–ΈνΈ(browser)μ™€ μ„λ²„κ°€ TCP μ—°κ²° μλ¦½

### step 2: TLS Handshake
1. ν΄λΌμ΄μ–ΈνΈ -> μ„λ²„: `Client Hello` λ©”μ‹μ§€ μ „μ†΅
  - ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ— μ•”νΈν™” μ•κ³ λ¦¬μ¦(Cipher Suites)κ³Ό μ§€μ›ν•λ” μµμ‹  TLS λ²„μ „μ„ λ³΄λ‚Έλ‹¤.
2. μ„λ²„ -> ν΄λΌμ΄μ–ΈνΈ: `Server Hello` μ‘λ‹µ
  - μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ„ ν™•μΈν•κ³  μ§€μ› κ°€λ¥ν• μ•”νΈν™” μ•κ³ λ¦¬μ¦κ³Ό TLS λ²„μ „μ„ μ„ νƒν•μ—¬ μ‘λ‹µ
3. μ„λ²„ -> ν΄λΌμ΄μ–ΈνΈ: SSL μΈμ¦μ„ μ „μ†΅
  - μ„λ²„λ” SSL μΈμ¦μ„(SSL Certificate)λ¥Ό ν΄λΌμ΄μ–ΈνΈμ— μ „μ†΅
  - μΈμ¦μ„λ” **κ³µκ°ν‚¤(Public Key), μ„λ²„μ νΈμ¤νΈ μ΄λ¦„, μ ν¨κΈ°κ°„** λ“±μ μ •λ³΄κ°€ ν¬ν•¨λ¨  - ν΄λΌμ΄μ–ΈνΈλ” **SSL μΈμ¦μ„**λ¥Ό κ²€μ¦ν•μ—¬ μ‹ λΆ°ν•  μ μλ” μ„λ²„μΈμ§€ ν™•μΈ

### Step 3: μ„Έμ… ν‚¤ μƒμ„± λ° κµν™
1. ν΄λΌμ΄μ–ΈνΈ -> μ„λ²„: μ„Έμ… ν‚¤ μƒμ„± λ° μ•”νΈν™”
  - ν΄λΌμ΄μ–ΈνΈλ” μ„Έμ… ν‚¤(λ€μΉ­ ν‚¤)λ¥Ό μƒμ„± -> μ„λ²„μ κ³µκ°ν‚¤λ΅ μ•”νΈν™” -> μ„λ²„μ— μ „μ†΅
2. μ„λ²„ -> ν΄λΌμ΄μ–ΈνΈ: μ„Έμ… ν‚¤ λ³µνΈν™”
  - μ„λ²„λ” μμ‹ μ **κ°μΈν‚¤**λ΅ μ•”νΈν™”λ μ„Έμ…ν‚¤λ¥Ό λ³µνΈν™”ν•μ—¬ λ™μΌν• μ„Έμ…ν‚¤λ¥Ό ν™•λ³΄

### Step 4: λ€μΉ­ν‚¤ μ•”νΈν™”λ¥Ό ν†µν• λ°μ΄ν„° μ „μ†΅
  - ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ λ™μΌν• μ„Έμ… ν‚¤ κ³µμ  -> λ€μΉ­ν‚¤ μ•”νΈν™”(Symmetric Encryption)λ¥Ό μ‚¬μ©ν•μ—¬ λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•κ³  μ•μ „ν•κ² μ£Όκ³ λ°›μ
  - μ΄ λ‹¨κ³„λ¶€ν„° λ¨λ“  λ°μ΄ν„°λ” **λ€μΉ­ μ•”νΈν™”λ μƒνƒ**λ΅ μ•μ „ν•κ² μ „μ†΅

---

## β“ HTTPSλ” μ™ λ€μΉ­ν‚¤ μ•”νΈν™”λ¥Ό μ‚¬μ©ν•λ”κ°€?
### 1. λ³΄μ•
- λΉ„λ€μΉ­ μ•”νΈν™”(Asymmetric Encryption)λ” ***λ‹¨λ°©ν–¥*** μ•”νΈν™” -> μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ—κ² λ°μ΄ν„°λ¥Ό λ³΄λ‚Ό λ• κ³µκ°ν‚¤λ¥Ό μ‚¬μ©ν•λ©΄ λ„κµ¬λ‚ **λ³µνΈν™”** κ°€λ¥
- λ€μΉ­ μ•”νΈν™”λ” μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈλ§μ΄ λ™μΌν• μ„Έμ… ν‚¤λ¥Ό κ°€μ§ -> μ 3μκ°€ λ³µνΈν™” λ¶κ°€
### 2. μ„λ²„ μμ› μ μ•½ (Server Resources)
- λΉ„λ€μΉ­ μ•”νΈν™”λ” λ³µμ΅ν• μν•™μ  μ—°μ‚°μ΄ ν•„μ” -> μ—°μ†μ μΈ λ°μ΄ν„°μ—λ” λ¶€μ ν•©
- TLS Handshake ν›„μ—λ” μ†λ„κ°€ λΉ λ¥΄κ³  μ—°μ‚° λΉ„μ©μ΄ μ μ€ λ€μΉ­ μ•”νΈν™”λ΅ μ „ν™ν•μ—¬ λ°μ΄ν„° μ „μ†΅
